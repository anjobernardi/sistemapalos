import{l as f,T as B,o as l,f as c,a as p,u as a,Z as E,w as u,b as e,d as n,F as x,q as w,t as r,e as b,g as m,i as v,p as k}from"./app-15dd70e1.js";import{_ as D}from"./AuthenticatedLayout-ec62a969.js";import{P as L}from"./PrimaryButton-2e214895.js";import{_ as P}from"./Modal-2af3eca1.js";import"./ApplicationLogo-979f05cb.js";import"./_plugin-vue_export-helper-c27b6911.js";const A=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Equipamentos",-1),H={class:"py-12"},V={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},I=["href"],N={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},S={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},$={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},F=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Identificação "),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"flex items-center"},[n(" Código "),e("a",{href:"#"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 ml-1","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 320 512"},[e("path",{d:"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z"})])])])]),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"flex items-center"},[n(" Fabricante "),e("a",{href:"#"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 ml-1","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 320 512"},[e("path",{d:"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z"})])])])]),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"flex items-center"},[n(" Modelo "),e("a",{href:"#"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 ml-1","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 320 512"},[e("path",{d:"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z"})])])])]),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"flex items-center"},[n(" Localização "),e("a",{href:"#"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 ml-1","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 320 512"},[e("path",{d:"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z"})])])])]),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"flex items-center"},[n(" Ativo "),e("a",{href:"#"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 ml-1","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 320 512"},[e("path",{d:"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z"})])])])]),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Edit")]),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Destroy")]),e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Add")])])],-1),T={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},U={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Z={class:"px-6 py-4"},j={class:"px-6 py-4"},G={class:"px-6 py-4"},J={class:"px-6 py-4"},K={class:"px-6 py-4"},O={class:"px-6 py-4 text-right"},Q=["href"],R={class:"px-6 py-4 text-right"},W=["onClick"],X={class:"bg-white dark:bg-gray-900"},Y={class:"max-w-2xl px-4 py-8 mx-auto lg:py-16"},ee={class:"mb-4 text-xl font-bold text-gray-900 dark:text-white"},te={class:"grid gap-4 sm:grid-cols-2 sm:gap-6"},se={class:"w-full"},re=e("label",{for:"equipment_id",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Equipamento ID",-1),oe=["value"],ae={key:0},de={class:"w-full"},ie=e("label",{for:"period",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Período",-1),le={key:0},ce={class:"sm:col-span-2"},ne=e("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Descrição",-1),pe={key:0},ue=e("button",{type:"submit",class:"inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-green-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800"}," Inserir ",-1),me={key:0,class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},he={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ge={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},xe=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Equipamento Id "),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"flex items-center"},[n(" Descrição "),e("a",{href:"#"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 ml-1","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 320 512"},[e("path",{d:"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z"})])])])]),e("th",{scope:"col",class:"px-6 py-3"}," Período "),e("th",{scope:"col",class:"px-6 py-3"}," Ação ")])],-1),ye={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},_e={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},fe={class:"px-6 py-4"},we={class:"px-6 py-4"},be={class:"px-6 py-4 text-right"},ve=["onClick"],Le={__name:"Equipment",props:["auth","equipments"],setup(y){const{auth:h,equipments:ke}=y,d=f({}),g=f(!1),s=B("getparams",{equipment_id:null,period:null,description:null,created_by_company_id:h.user.company_id}),C=async(i,o)=>{await s.delete(route("part.destroy",i),{onSuccess:()=>{d.value.parts.splice(o,1)}})},q=async i=>{await s.transform(o=>({...o,equipment_id:i,created_by_company_id:h.user.company_id})).post(route("part.store"),{onSuccess:o=>{d.value.parts.push({equipment_id:i,period:s.period,description:s.description,created_by_company_id:h.user.company_id}),s.reset()}})},M=i=>{g.value=!0,d.value=i},z=()=>{g.value=!1,d.value={},s.reset()};return(i,o)=>(l(),c(x,null,[p(a(E),{title:"Equipamentos"}),p(D,null,{header:u(()=>[A]),default:u(()=>[e("div",H,[e("div",V,[e("a",{href:i.route("create_equipment.create")},[p(L,{type:"button",class:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"},{default:u(()=>[n("Adicionar")]),_:1})],8,I),e("div",N,[e("div",S,[e("table",$,[F,e("tbody",null,[(l(!0),c(x,null,w(y.equipments,t=>(l(),c("tr",T,[e("th",U,r(t.identification),1),e("td",Z,r(t.qrcode),1),e("td",j,r(t.manufacturer),1),e("td",G,r(t.model),1),e("td",J,r(t.location),1),e("td",K,r(t.active?"Sim":"Não"),1),e("td",O,[e("a",{href:i.route("create_equipment.edit",t.id),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},"Editar",8,Q)]),e("td",R,[e("a",{href:"#",onClick:_=>M(t),class:"font-medium text-green-600 dark:text-green-blue-500 hover:underline"},"Add peça",8,W)])]))),256))])])])])])]),e("section",X,[p(P,{show:g.value,onClose:z},{default:u(()=>[e("div",Y,[e("h2",ee,"Adicionar ítem ao equipamento "+r(d.value.id),1),e("form",{onSubmit:o[2]||(o[2]=b(t=>q(d.value.id),["prevent"]))},[e("div",te,[e("div",se,[re,e("input",{value:d.value.id,type:"text",name:"equipment_id",id:"equipment_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Id do equipamento",required:"",readonly:""},null,8,oe),a(s).errors.equipment_id?(l(),c("div",ae,r(a(s).errors.equipment_id),1)):m("",!0)]),e("div",de,[ie,v(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>a(s).period=t),type:"number",name:"period",id:"period",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"em meses",required:""},null,512),[[k,a(s).period]]),a(s).errors.period?(l(),c("div",le,r(a(s).errors.period),1)):m("",!0)]),e("div",ce,[ne,v(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>a(s).description=t),type:"text",name:"description",id:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Descrição do ítem",required:""},null,512),[[k,a(s).description]]),a(s).errors.description?(l(),c("div",pe,r(a(s).errors.description),1)):m("",!0)])]),ue],32)]),d.value.parts.length>0?(l(),c("div",me,[e("div",he,[e("table",ge,[xe,e("tbody",null,[(l(!0),c(x,null,w(d.value.parts,(t,_)=>(l(),c("tr",ye,[e("th",_e,r(t.equipment_id),1),e("td",fe,r(t.description),1),e("td",we,r(t.period),1),e("td",be,[e("a",{href:"#",onClick:b(Ce=>C(t.id,_),["prevent"]),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},"Apagar",8,ve)])]))),256))])])])])):m("",!0)]),_:1},8,["show"])])]),_:1})],64))}};export{Le as default};
