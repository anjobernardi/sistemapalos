import{m as w,l as b,T as v,o as r,f as a,a as l,u as k,Z as C,w as d,b as t,e as p,F as u,q as h,t as o}from"./app-38bdbff5.js";import{_ as q}from"./AuthenticatedLayout-c10e4482.js";import{_ as R}from"./Modal-5517c141.js";import"./ApplicationLogo-7adbd795.js";import"./_plugin-vue_export-helper-c27b6911.js";const $=t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Relatório",-1),B={class:"py-12"},S={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},D=["href"],E=["href"],M={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},j={class:"col-span-2 row-span-2"},F={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},I={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},N=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Ordem de Serviço "),t("th",{scope:"col",class:"px-6 py-3"}," Equipamento "),t("th",{scope:"col",class:"px-6 py-3"}," Identificação "),t("th",{scope:"col",class:"px-6 py-3"}," Ítem "),t("th",{scope:"col",class:"px-6 py-3"}," Data ")])],-1),O={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},T={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},V={class:"px-6 py-4"},A={class:"px-6 py-4"},G={class:"px-6 py-4"},L={class:"px-6 py-4"},Z={class:"p-6"},z={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},H=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"}," Arquivo "),t("th",{scope:"col",class:"px-6 py-3"}," Download ")])],-1),J={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},K={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},P={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Q={class:"px-6 py-4 text-right"},U=["onClick"],ot={__name:"MaintenanceReport",props:["maintenances","filenames"],setup(m){const x=w(),i=b(!1),c=v("getparams",{}),_=async()=>{await c.get(route("maintenance_report.generate"),{onSuccess:async s=>{x.success("Relatório gerado com sucesso!")},onError:s=>{x.error("Ocorreu um erro, verifique os dados e tente novamente.")}})},g=async()=>{i.value=!0},y=()=>{i.value=!1,c.reset()},f=async s=>{await c.get(route("maintenance_report.download",s))};return(s,n)=>(r(),a(u,null,[l(k(C),{title:"Relatório"}),l(q,null,{header:d(()=>[$]),default:d(()=>[t("div",B,[t("div",S,[t("a",{href:s.route("maintenance_report.index")},[t("button",{type:"button",onClick:n[0]||(n[0]=p(e=>_(),["prevent"])),class:"inline-flex justify-items-start mr-2 mb-2 px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-yellow-400 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-yellow-500"}," Gerar relatório ")],8,D),t("a",{href:s.route("maintenance_report.index")},[t("button",{type:"button",onClick:n[1]||(n[1]=p(e=>g(),["prevent"])),class:"inline-flex justify-items-start mr-2 mb-2 px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-blue-500 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-blue-600"}," Imprimir ")],8,E),t("div",M,[t("div",j,[t("div",F,[t("table",I,[N,t("tbody",null,[(r(!0),a(u,null,h(m.maintenances,e=>(r(),a("tr",O,[t("th",T,o(e.service_order_id),1),t("td",V,o(e.equipment_id),1),t("td",A,o(e.identification),1),t("td",G,o(e.part_id),1),t("td",L,o(e.next_maintenance),1)]))),256))])])])])])])]),t("section",null,[l(R,{show:i.value,onClose:y},{default:d(()=>[t("div",Z,[t("table",z,[H,t("tbody",null,[(r(!0),a(u,null,h(m.filenames,e=>(r(),a("tr",J,[t("th",K,o(e),1),t("th",P,[t("td",Q,[t("a",{href:"#",onClick:p(W=>f(e.toString()),["prevent"]),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},"Baixar",8,U)])])]))),256))])])])]),_:1},8,["show"])])]),_:1})],64))}};export{ot as default};
