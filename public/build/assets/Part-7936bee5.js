import{m as A,l as k,T as v,o as i,f as d,a as x,u as s,Z as P,w as h,b as e,e as w,t as a,g as c,i as u,p as y,F as b,q,d as I}from"./app-c3725b55.js";import{_ as E}from"./AuthenticatedLayout-8d066e34.js";import{_ as S}from"./Modal-69361d27.js";import"./ApplicationLogo-a7e50e22.js";import"./_plugin-vue_export-helper-c27b6911.js";const $=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Componentes",-1),B={class:"py-12"},N={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},T={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},U={class:"max-w-2xl px-4 py-8 mx-auto lg:py-16"},F=e("h2",{class:"mb-4 text-xl font-bold text-gray-900 dark:text-white"},"Adicionar componente ao equipamento",-1),z={class:"grid gap-4 sm:grid-cols-2 sm:gap-6"},L={class:"w-full"},H=e("label",{for:"equipment_id",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Equipamento ID",-1),Z=["value"],j={key:0},G={class:"w-full"},J=e("label",{for:"period",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Período",-1),K={key:0},O={class:"sm:col-span-2"},Q=e("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Descrição",-1),R={key:0},W=e("button",{type:"submit",class:"inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-green-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800"}," Inserir ",-1),X={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},Y={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},ee={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},te=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Equipamento "),e("th",{scope:"col",class:"px-6 py-3"},[e("div",{class:"flex items-center"},[I(" Descrição "),e("a",{href:"#"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 ml-1","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 320 512"},[e("path",{d:"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z"})])])])]),e("th",{scope:"col",class:"px-6 py-3"}," Frequência "),e("th",{scope:"col",class:"px-6 py-3"}," Ação ")])],-1),re={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},se={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},oe={class:"px-6 py-4"},ae={class:"px-6 py-4"},ie={class:"px-6 py-4 text-right"},de=["onClick"],ne={class:"max-w-2xl px-4 py-8 mx-auto lg:py-16"},le={class:"mb-4 text-xl font-bold text-gray-900 dark:text-white"},ce={class:"grid gap-4 sm:grid-cols-2 sm:gap-6"},pe={class:"w-full"},me=e("label",{for:"equipment_id",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Equipamento ID",-1),ue=["value"],ye={key:0},ge={class:"w-full"},_e=e("label",{for:"part_id",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Componente ID",-1),xe={key:0},he={class:"sm:col-span-2"},be=e("label",{for:"activity",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Atividade",-1),fe={key:0},ke=e("button",{type:"submit",class:"inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-green-700 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-800"}," Inserir ",-1),ve={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},we={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},qe={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},Ce=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Equipamento "),e("th",{scope:"col",class:"px-6 py-3"}," Componente "),e("th",{scope:"col",class:"px-6 py-3"}," Atividade ")])],-1),De={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},Me={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ve={class:"px-6 py-4"},Ae={class:"px-6 py-4"},Ue={__name:"Part",props:["auth","equipment","parts"],setup(p){const{auth:m,equipment:Pe,parts:Ie}=p,f=A(),n=k({}),g=k(!1),t=v("getparams",{equipment_id:null,period:null,description:null,created_by_company_id:m.user.company_id}),_=v("getparams",{equipment_id:null,part_id:null,activity:null,created_by_company_id:m.user.company_id}),C=async l=>{await t.transform(o=>({...o,equipment_id:l,created_by_company_id:m.user.company_id})).post(route("part.store"),{onSuccess:o=>{f.success("Componente gravado com sucesso!"),t.reset()}})},D=async(l,o)=>{await _.transform(r=>({...r,equipment_id:l,part_id:o,activity:t.activity,active:!0,created_by_company_id:m.user.company_id})).post(route("plan.store"),{onSuccess:r=>{f.success("Atividade gravada com sucesso!"),_.reset()}})},M=l=>{g.value=!0,n.value.parts=l},V=()=>{g.value=!1,n.value={},_.reset()};return(l,o)=>(i(),d(b,null,[x(s(P),{title:"Componentes"}),x(E,null,{header:h(()=>[$]),default:h(()=>[e("div",B,[e("div",N,[e("div",T,[e("div",U,[F,e("form",{onSubmit:o[2]||(o[2]=w(r=>C(p.equipment.id),["prevent"]))},[e("div",z,[e("div",L,[H,e("input",{value:p.equipment.id,type:"text",name:"equipment_id",id:"equipment_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Id do equipamento",required:"",readonly:""},null,8,Z),s(t).errors.equipment_id?(i(),d("div",j,a(s(t).errors.equipment_id),1)):c("",!0)]),e("div",G,[J,u(e("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>s(t).period=r),type:"number",name:"period",id:"period",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"em meses",required:""},null,512),[[y,s(t).period]]),s(t).errors.period?(i(),d("div",K,a(s(t).errors.period),1)):c("",!0)]),e("div",O,[Q,u(e("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>s(t).description=r),type:"text",name:"description",id:"description",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Descrição do ítem",required:""},null,512),[[y,s(t).description]]),s(t).errors.description?(i(),d("div",R,a(s(t).errors.description),1)):c("",!0)])]),W],32)]),e("div",X,[e("div",Y,[e("table",ee,[te,e("tbody",null,[(i(!0),d(b,null,q(p.parts,r=>(i(),d("tr",re,[e("th",se,a(r.equipment_id),1),e("td",oe,a(r.description),1),e("td",ae,a(r.period),1),e("td",ie,[e("a",{href:"#",onClick:Ee=>M(r),class:"font-medium text-orange-500 dark:text-orange-blue-500 hover:underline"},"Atividade",8,de)])]))),256))])])])])])])]),x(S,{show:g.value,onClose:V},{default:h(()=>[e("div",ne,[e("h2",le,"Adicionar atividade ao componente "+a(n.value.parts.id),1),e("form",{onSubmit:o[5]||(o[5]=w(r=>D(n.value.parts.equipment_id,n.value.parts.id),["prevent"]))},[e("div",ce,[e("div",pe,[me,e("input",{value:n.value.parts.equipment_id,type:"text",name:"equipment_id",id:"equipment_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",readonly:""},null,8,ue),s(t).errors.equipment_id?(i(),d("div",ye,a(s(t).errors.equipment_id),1)):c("",!0)]),e("div",ge,[_e,u(e("input",{"onUpdate:modelValue":o[3]||(o[3]=r=>n.value.parts.id=r),type:"text",name:"part_id",id:"part_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",readonly:""},null,512),[[y,n.value.parts.id]]),s(t).errors.part_id?(i(),d("div",xe,a(s(t).errors.part_id),1)):c("",!0)]),e("div",he,[be,u(e("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>s(t).activity=r),type:"text",name:"activity",id:"activity",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Descrição da atividade",required:""},null,512),[[y,s(t).activity]]),s(t).errors.activity?(i(),d("div",fe,a(s(t).errors.activity),1)):c("",!0)])]),ke],32)]),e("div",ve,[e("div",we,[e("table",qe,[Ce,e("tbody",null,[(i(!0),d(b,null,q(n.value.parts.plans,r=>(i(),d("tr",De,[e("th",Me,a(r.equipment_id),1),e("td",Ve,a(r.part_id),1),e("td",Ae,a(r.activity),1)]))),256))])])])])]),_:1},8,["show"])]),_:1})],64))}};export{Ue as default};
